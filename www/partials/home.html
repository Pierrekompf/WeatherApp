<section ng-controller="WeatherCtrl">

    <a class="back waves-effect amber darken-3" ng-hide="panel==0" ng-click="panel = 0">Retour</a>
    <div class="loader" ng-show="loader"></div>

    <section class="panel panel-padding" ng-class="{center:panel==0, left:panel>0}">
        <div class="form">
            <p>Bienvenue, vous pouvez chercher la météo dans une ville particulière, ou utiliser votre
            position actuelle.</p>
            <form ng-submit="search()">

                    <input type="text" class="text" placeholder="Rechercher une ville" ng-model="city">

                <button class="btn waves-effect waves-light submit" type="submit" name="action">
                    Rechercher
                </button>
                    <button class="btn waves-effect waves-light red" ng-click="geolocate()">Ma position</button>


            </form>
        </div>

    </section>

    <section class="panel right" ng-class="{center:panel==1, right:panel<1}">
        <div class="ligne-title">
            {{weather.city.name}} / {{weather.city.country}}
        </div>

        <div class="ligne" ng-repeat="t in weather.list" ng-class="{row_active: index==0}" ng-click="expand($event)">
            <div class="date">
                <strong>{{t.dt*1000 | date:'EEE'}}</strong>
                {{t.dt*1000 | date:'dd/MM'}}
            </div>
            <div class="temperature">{{Math.round(t.temp.day)}}°C</div>
            <i class="icon icon-{{ t.weather.0.main.toLowerCase() }}"></i>
        </div>
    </section>

</section>